<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.sky.mapper.DishMapper">
    <insert id="insertDish" parameterType="com.sky.entity.Dish" useGeneratedKeys="true" keyProperty="id">
        insert into dish(name , category_id , price , image, description , status , create_time , update_time , create_user, update_user)
        values( #{name} , #{categoryId} ,#{price} ,#{image} , #{description} , #{status} , #{createTime} ,#{updateTime} ,#{createUser}, #{updateUser})
    </insert>

    <insert id="insertFlavor" parameterType="com.sky.entity.DishFlavor">
        insert into dish_flavor(dish_id , name , value)
        values (#{dishId} , #{name} , #{value})
    </insert>

    <insert id="insertBanch" >
        insert into dish_flavor(dish_id , name , value) values
        <foreach collection="dishFlavors" item="df" separator=",">
            (#{df.dishId} , #{df.name} , #{df.value})
        </foreach>
    </insert>
</mapper>